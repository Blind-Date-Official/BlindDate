(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[20601],{18186:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/versions/v46.0.0/sdk/captureRef",function(){return c(7520)}])},25374:function(f,d,a){"use strict";a.d(d,{F:function(){return o}});var g=a(26042),h=a(69396),i=a(35944),c=a(70917),b=a(4903);a(67294);var j=a(26084),k=a(18722),l=(0,c.iv)("line-height:1.8rem;margin-top:1.4rem;margin-bottom:1.4rem;color:",b.theme.text.default,";"),m=(0,c.iv)("font-family:",b.typography.fontFaces.medium,";font-weight:400;text-decoration:none;color:",b.theme.link.default,";:hover{text-decoration:underline;}"),n=(0,c.iv)("text-decoration:none;color:",b.theme.link.default,";:hover{text-decoration:underline;}"),e=function(a){var b,c=a.packageName,d=a.hideBareInstructions,e=a.cmd,h=void 0===e?["$ expo install ".concat(c)]:e,f=a.href,o=void 0===f?(b=c,"https://github.com/expo/expo/tree/main/packages/".concat(b.split(" ")[0])):f,g=(0,j.y)().sourceCodeUrl;return(0,i.BX)(i.HY,{children:[(0,i.tZ)(k.o,{cmd:h}),void 0!==d&&d?null:(0,i.BX)("p",{css:l,children:["If you're installing this in a"," ",(0,i.tZ)("a",{css:n,href:"/introduction/managed-vs-bare/#bare-workflow",children:"bare React Native app"}),", you should also follow"," ",(0,i.tZ)("a",{css:m,href:null!=g?g:o,children:"these additional installation instructions"}),"."]})]})};d.Z=e;var o=function(b){var a,c=(0,j.y)().packageName;return(0,i.tZ)(e,(0,h.Z)((0,g.Z)({},b),{packageName:null!==(a=b.packageName)&& void 0!==a?a:c}))}},28045:function(e,c,a){"use strict";var f=a(26042),g=a(35944),b=a(70917),d=a(4903);a(67294);var h=a(35378),i=a(60866),j=(0,b.iv)("margin-bottom:1rem;"),k=(0,b.iv)("text-decoration:none;display:grid;grid-template-columns:20px auto;text-align:left;grid-gap:8px;color:",d.theme.link.default,";"),l=[{title:"Android Device",propName:"android"},{title:"Android Emulator",propName:"emulator"},{title:"iOS Device",propName:"ios"},{title:"iOS Simulator",propName:"simulator"},{title:"Web",propName:"web"},];c.Z=function(a){return(0,g.BX)(g.HY,{children:[(0,g.tZ)(h.H4,{css:j,children:a.title||"Platform Compatibility"}),(0,g.BX)(i.iA,{layout:i.df.Fixed,children:[(0,g.tZ)(i.ss,{children:(0,g.tZ)(i.X2,{children:l.map(function(b){var a=b.title;return(0,g.tZ)(i.qN,{children:a},a)})})}),(0,g.tZ)("tbody",{children:(0,g.tZ)(i.X2,{children:l.map(function(e){var b,h,c;return(0,g.tZ)(i.bL,(0,f.Z)({},(b=a[e.propName],h=e,c=h.title,!0===b?{children:(0,g.tZ)(d.StatusSuccessIcon,{color:d.theme.status.success}),title:"".concat(c," is supported")}:"object"==typeof b?{children:(0,g.BX)("a",{css:k,target:"_blank",href:b.pending,children:[(0,g.tZ)(d.StatusWaitingIcon,{color:d.theme.status.info})," Pending"]}),title:"".concat(c," support is pending")}:{children:(0,g.tZ)(d.StatusFailedIcon,{color:d.theme.status.error}),title:"".concat(c," is not supported")})),e.title)})})})]})]})}},18722:function(e,d,c){"use strict";c.d(d,{o:function(){return A}});var f=c(35944),b=c(70917),a=c(4903),g=c(67294),h=function(a){var d=a.children,e=a.style,c=a.includeMargin;return(0,f.tZ)("div",{css:[i,(void 0===c||c)&&j,(0,b.iv)(e)],children:d})},i=(0,b.iv)({display:"flex",flexDirection:"column"}),j=(0,b.iv)({marginBottom:a.spacing[4]}),k=function(a){var d=a.children,b=a.alwaysDark,c=a.hideOverflow;return(0,f.tZ)("div",{css:[l,void 0!==b&&b&&m,void 0!==c&&c&&n],children:d})},l=(0,b.iv)("background-color:",a.theme.palette.black,";border:1px solid ",a.theme.border.default,";border-bottom-left-radius:",a.borderRadius.medium,"px;border-bottom-right-radius:",a.borderRadius.medium,"px;padding:",a.spacing[4],"px;overflow-x:auto;code{padding-left:0;padding-right:0;}"),m=(0,b.iv)("border-color:transparent;white-space:nowrap;"),n=(0,b.iv)("overflow:hidden;code{white-space:nowrap;}"),o=c(69036),p=function(b){var g=b.title,c=b.children,d=b.alwaysDark,e=void 0!==d&&d;return(0,f.BX)("div",{css:[q,e&&r],children:[(0,f.tZ)(o.GP,{css:[s,e&&{color:a.darkTheme.text.default}],children:g}),!!c&&(0,f.tZ)("div",{css:t,children:c})]})},q=(0,b.iv)("background-color:",a.theme.background.default,";border:1px solid ",a.theme.border.default,";border-bottom:none;border-top-left-radius:",a.borderRadius.medium,"px;border-top-right-radius:",a.borderRadius.medium,"px;display:flex;padding:0 8px 0 16px;justify-content:space-between;min-height:42px;"),r=(0,b.iv)("background-color:",a.darkTheme.background.tertiary,";border-color:transparent;"),s=(0,b.iv)("line-height:42px !important;user-select:none;"),t=(0,b.iv)("display:flex;justify-content:flex-end;align-items:center;"),u=c(26042),v=c(69396),w=c(99534),x=c(48192),y=function(b){var h=b.children,c=b.icon,d=b.alwaysDark,e=void 0!==d&&d,i=(0,w.Z)(b,["children","icon","alwaysDark"]),j={color:e?a.darkTheme.text.default:void 0,size:a.iconSize.small},k=c&&g.cloneElement(c,j);return(0,f.tZ)(x.z,(0,v.Z)((0,u.Z)({size:"mini",theme:"transparent",icon:k},i),{children:(0,f.tZ)(o.u5,{css:e&&{color:a.darkTheme.text.default},children:h})}))},z=function(b){var h=b.text,e=(0,w.Z)(b,["text"]),c=(0,g.useState)(!1),d=c[0],i=c[1];return(0,f.tZ)(y,(0,v.Z)((0,u.Z)({icon:(0,f.tZ)(a.ClipboardIcon,{}),onClick:function(){var a;null===(a=navigator.clipboard)|| void 0===a||a.writeText(h),i(!0),setTimeout(function(){return i(!1)},1500)},disabled:d},e),{children:d?"Copied!":"Copy"}))},A=function(a){var b=a.cmd,e=a.cmdCopy,g=a.hideOverflow,c=a.includeMargin,d=a.title;return(0,f.BX)(h,{style:D,includeMargin:void 0===c||c,children:[(0,f.tZ)(p,{alwaysDark:!0,title:void 0===d?"Terminal":d,children:B({cmd:b,cmdCopy:e})}),(0,f.tZ)(k,{alwaysDark:!0,hideOverflow:g,children:b.map(C)})]})};function B(a){var c=a.cmd,d=a.cmdCopy,b=d||function(b){var a=b.filter(function(a){return!a.startsWith("#")&&""!==a});if(1===a.length)return a[0].startsWith("$")?a[0].slice(2):a[0]}(c);return b&&(0,f.tZ)(z,{alwaysDark:!0,text:b})}function C(b,d){var c="line-".concat(d);return""===b.trim()?(0,f.tZ)("br",{css:E},c):b.startsWith("#")?(0,f.tZ)(o.cO,{css:[F,E,{color:a.darkTheme.code.comment}],children:b},c):b.startsWith("$")?(0,f.BX)("div",{children:[(0,f.tZ)(o.cO,{css:[F,E,{display:"inline",color:a.darkTheme.text.secondary},],children:"\u2192\xa0"}),(0,f.tZ)(o.cO,{css:F,children:b.substring(1).trim()})]},c):(0,f.tZ)(o.cO,{css:[F,{display:"inherit"}],children:b},c)}var D=(0,b.iv)("li &{margin-top:",a.spacing[4],"px;display:flex;}"),E=(0,b.iv)("user-select:none;"),F=(0,b.iv)("display:inline-block;line-height:130%;background-color:transparent;border:none;color:",a.darkTheme.text.default,";")},7520:function(f,b,a){"use strict";a.r(b),a.d(b,{default:function(){return e},headings:function(){return d},meta:function(){return c}});var g=a(99534);a(67294);var h=a(3905),i=a(25374),j=a(28045),c={title:"captureRef",sourceCodeUrl:"https://github.com/gre/react-native-view-shot",packageName:"react-native-view-shot"},d=[{depth:2,type:"text",title:"Installation"},{depth:2,type:"text",title:"API"},{depth:3,type:"inlineCode",title:"captureRef(view, options)"},{depth:4,type:"text",title:"Arguments"},{depth:4,type:"text",title:"Returns"},{depth:5,type:"text",title:"Note on pixel values"}],k={meta:c,headings:d};function e(a){var b=a.components,c=(0,g.Z)(a,["components"]);return(0,h.kt)("wrapper",Object.assign({},k,c,{components:b,mdxType:"MDXLayout"}),(0,h.kt)("p",null,"Given a view, ",(0,h.kt)("inlineCode",{parentName:"p"},"captureRef")," will essentially screenshot that view and return an image for you. This is very useful for things like signature pads, where the user draws something and then you want to save an image from it."),(0,h.kt)("p",null,"If you're interested in taking snapshots from the GLView, we recommend you use ",(0,h.kt)("a",Object.assign({parentName:"p"},{href:"/versions/v46.0.0/sdk/gl-view/#takesnapshotasyncoptions"}),"GLView's takeSnapshotAsync")," instead."),(0,h.kt)(j.Z,{android:!0,emulator:!0,ios:!0,simulator:!0,mdxType:"PlatformsSection"}),(0,h.kt)("h2",Object.assign({},{id:"installation"}),"Installation"),(0,h.kt)(i.F,{href:"https://github.com/gre/react-native-view-shot",mdxType:"APIInstallSection"}),(0,h.kt)("h2",Object.assign({},{id:"api"}),"API"),(0,h.kt)("pre",null,(0,h.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"import { captureRef } from 'react-native-view-shot';\n")),(0,h.kt)("h3",Object.assign({},{id:"capturerefview-options"}),(0,h.kt)("inlineCode",{parentName:"h3"},"captureRef(view, options)")),(0,h.kt)("p",null,"Snapshots the given view."),(0,h.kt)("h4",Object.assign({},{id:"arguments"}),"Arguments"),(0,h.kt)("ul",null,(0,h.kt)("li",{parentName:"ul"},(0,h.kt)("p",{parentName:"li"},(0,h.kt)("strong",{parentName:"p"},"view (",(0,h.kt)("em",{parentName:"strong"},"number|ReactElement"),")")," -- The ",(0,h.kt)("inlineCode",{parentName:"p"},"ref")," or ",(0,h.kt)("inlineCode",{parentName:"p"},"reactTag")," (also known as node handle) for the view to snapshot.")),(0,h.kt)("li",{parentName:"ul"},(0,h.kt)("p",{parentName:"li"},(0,h.kt)("strong",{parentName:"p"},"options (",(0,h.kt)("em",{parentName:"strong"},"object"),")")," --"),(0,h.kt)("p",{parentName:"li"},"An optional map of optional options"),(0,h.kt)("ul",{parentName:"li"},(0,h.kt)("li",{parentName:"ul"},(0,h.kt)("strong",{parentName:"li"},"format (",(0,h.kt)("em",{parentName:"strong"},"string"),")")," -- ",(0,h.kt)("inlineCode",{parentName:"li"},'"png" | "jpg" | "webm"'),", defaults to ",(0,h.kt)("inlineCode",{parentName:"li"},'"png"'),", ",(0,h.kt)("inlineCode",{parentName:"li"},'"webm"')," supported only on Android."),(0,h.kt)("li",{parentName:"ul"},(0,h.kt)("strong",{parentName:"li"},"quality (",(0,h.kt)("em",{parentName:"strong"},"number"),")")," -- Number between 0 and 1 where 0 is worst quality and 1 is best, defaults to ",(0,h.kt)("inlineCode",{parentName:"li"},"1")),(0,h.kt)("li",{parentName:"ul"},(0,h.kt)("strong",{parentName:"li"},"result (",(0,h.kt)("em",{parentName:"strong"},"string"),")")," -- The type for the resulting image.\n","-"," ",(0,h.kt)("inlineCode",{parentName:"li"},"'tmpfile'")," -- (default) Return a temporary file uri.\n","-"," ",(0,h.kt)("inlineCode",{parentName:"li"},"'base64'")," -- base64 encoded image.\n","-"," ",(0,h.kt)("inlineCode",{parentName:"li"},"'data-uri'")," -- base64 encoded image with data-uri prefix."),(0,h.kt)("li",{parentName:"ul"},(0,h.kt)("strong",{parentName:"li"},"height (",(0,h.kt)("em",{parentName:"strong"},"number"),")")," -- Height of result in pixels"),(0,h.kt)("li",{parentName:"ul"},(0,h.kt)("strong",{parentName:"li"},"width (",(0,h.kt)("em",{parentName:"strong"},"number"),")")," -- Width of result in pixels"),(0,h.kt)("li",{parentName:"ul"},(0,h.kt)("strong",{parentName:"li"},"snapshotContentContainer (",(0,h.kt)("em",{parentName:"strong"},"bool"),")"),' -- if true and when view is a ScrollView, the "content container" height will be evaluated instead of the container height')))),(0,h.kt)("h4",Object.assign({},{id:"returns"}),"Returns"),(0,h.kt)("p",null,"An image of the format specified in the options parameter."),(0,h.kt)("h5",Object.assign({},{id:"note-on-pixel-values"}),"Note on pixel values"),(0,h.kt)("p",null,"Remember to take the device ",(0,h.kt)("inlineCode",{parentName:"p"},"PixelRatio"),' into account. When you work with pixel values in a UI, most of the time those units are "logical pixels" or "device-independent pixels". With images like PNG files, you often work with "physical pixels". You can get the ',(0,h.kt)("inlineCode",{parentName:"p"},"PixelRatio")," of the device using the React Native API: ",(0,h.kt)("inlineCode",{parentName:"p"},"PixelRatio.get()")),(0,h.kt)("p",null,"For example, to save a 'FullHD' picture of ",(0,h.kt)("inlineCode",{parentName:"p"},"1080x1080"),", you would do something like this:"),(0,h.kt)("pre",null,(0,h.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"const targetPixelCount = 1080; // If you want full HD pictures\nconst pixelRatio = PixelRatio.get(); // The pixel ratio of the device\n// pixels * pixelratio = targetPixelCount, so pixels = targetPixelCount / pixelRatio\nconst pixels = targetPixelCount / pixelRatio;\n\nconst result = await captureRef(this.imageContainer, {\n  result: 'tmpfile',\n  height: pixels,\n  width: pixels,\n  quality: 1,\n  format: 'png',\n});\n")))}e.isMDXComponent=!0}},function(a){a.O(0,[49774,92888,40179],function(){var b;return a(a.s=18186)}),_N_E=a.O()}])